import{_ as i,c as a,o as e,af as t}from"./chunks/framework.CpesNEOu.js";const c=JSON.parse('{"title":"Port your own distro","description":"","frontmatter":{},"headers":[],"relativePath":"postinstallation/distro.md","filePath":"postinstallation/distro.md","lastUpdated":1764427697000}'),l={name:"postinstallation/distro.md"};function n(r,s,h,o,p,k){return e(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="port-your-own-distro" tabindex="-1">Port your own distro <a class="header-anchor" href="#port-your-own-distro" aria-label="Permalink to “Port your own distro”">​</a></h1><p>If you don&#39;t trust people on the internet (and rightfully so), you may want to port a distro of your liking on the PS4. If everything goes according to plan, you should be able to port your own distro without too many problems.</p><div class="caution custom-block github-alert"><p class="custom-block-title">CAUTION</p><p>This section is work in progress. For now I haven&#39;t figured out how to properly compile the drivers. If anyone is willing to help out, shoot a message at the <a href="https://discord.gg/jebUjgBu6T" target="_blank" rel="noreferrer">tux4orbis&#39;</a> Discord server; PRs are also welcome.</p></div><div class="warning custom-block github-alert"><p class="custom-block-title">WARNING</p><p>This is meant for advanced users ONLY.</p><p>Some things may not work properly. If you encounter issues, chat on the <a href="https://discord.com/invite/QtcPmzHVVm" target="_blank" rel="noreferrer">Discords</a>.</p></div><h2 id="why-is-this-necessary" tabindex="-1">Why is this necessary <a class="header-anchor" href="#why-is-this-necessary" aria-label="Permalink to “Why is this necessary”">​</a></h2><p>The PS4 Linux community is fragmented: some contributors focus on experimental work, others aim for real development, and few collaborate across projects. As a result, many patches haven’t been merged into the mainline projects, even after nearly ten years.</p><h2 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-label="Permalink to “Requirements”">​</a></h2><p>In order to port a distro on the PS4, you will need the following:</p><ul><li>A distro of your choice <ul><li>Don&#39;t go overboard with the ricing, remember that the GPU doesn&#39;t work fully</li></ul></li><li>A way to install said distro in a VM</li></ul><h3 id="drivers" tabindex="-1">Drivers <a class="header-anchor" href="#drivers" aria-label="Permalink to “Drivers”">​</a></h3><p>To get the drivers, there&#39;s a couple of ways:</p><ul><li>On Arch based distros, there are precompiled packages that can be found at this pacman repo:</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[ps4-video]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SigLevel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Optional</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://centi07.github.io/repo/</span></span></code></pre></div><p>Otherwise, the drivers are available from the AUR via the video-drivers-ps4 package. However, installation may fail. If that happens, check the Tux4Orbis Discord for help.</p><ul><li>The <code>mesa-git</code>, <code>libdrm</code>, and <code>xf86-video-amdgpu</code> packages compiled with patches for the PS4, or compile them yourself <ul><li>It is necessary to compile mesa in 32 bit too, for some games</li></ul></li><li>You can find patches <a href="https://github.com/FlyingPhantom/ps4-linux-patches" target="_blank" rel="noreferrer">here</a> (forked from FalsePhilosopher) to compile yourself <ul><li>I haven&#39;t figured out how to compile these just yet, you&#39;re likely better off using the ones from the AUR</li></ul></li><li>You will still need to use a kernel of choice (download one or git clone the ones listed before) and use the initramfs (or make your own - if you manage to please make an issue on github)</li></ul><p>Otherwise, on some Discords, you can find (possibly illegal?) personal forks for these drivers. Most of these are in french, so watch out.</p><h2 id="porting" tabindex="-1">Porting <a class="header-anchor" href="#porting" aria-label="Permalink to “Porting”">​</a></h2><p>You would need to do something like so:</p><ul><li>Install your distro and possibly configure it to your liking</li></ul><p>Uninstall the <code>mesa-git</code>, <code>libdrm</code>, and <code>xf86-video-amdgpu</code> packages, and install the ones that are required by the PS4. To uninstall the mesa packages, use your package manager instructions. You will probably need to remove all the dependencies as well.</p><div class="caution custom-block github-alert"><p class="custom-block-title">CAUTION</p><p>Don&#39;t use MESA 22.</p></div><p>After that you need to add these packages to the ignore section so they can&#39;t be updated. On Arch based distros, change your pacman config, and add these packages to the ignore section:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/pacman.conf</span></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IgnorePkg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lib32-mesa</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lib32-opencl-mesa</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ib32-vulkan-asahi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lib32-vulkan-dzn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lib32-vulkan-freedreno</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lib32-vulkan-gfxstream</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lib32-vulkan-intel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lib32-vulkan-mesa-device-select</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lib32-vulkan-mesa-layers</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lib32-vulkan-nouveau</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lib32-vulkan-radeon</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lib32-vulkan-swrast</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lib32-vulkan-virtio</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mesa</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mesa-docs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> opencl-mesa</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vulkan-asahi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vulkan-dzn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vulkan-freedreno</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vulkan-gfxstream</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vulkan-intel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vulkan-mesa-device-select</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vulkan-mesa-layers</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vulkan-nouveau</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vulkan-radeon</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vulkan-swrast</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vulkan-virtio</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lib32-vulkan-asahi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IgnoreGroup</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mesa</span></span></code></pre></div><p>After that, you can compress your installation and move it over to your PS4 for installation:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -cvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps4linux.tar.xz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --exclude=/ps4linux.tar.xz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --exclude=/var/cache</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --one-file-system</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -I</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;xz -9&quot;</span></span></code></pre></div><p>Then move the file over to the PS4.</p><h2 id="ending" tabindex="-1">Ending <a class="header-anchor" href="#ending" aria-label="Permalink to “Ending”">​</a></h2><p>For any changes, PRs are welcome.</p>`,29)])])}const g=i(l,[["render",n]]);export{c as __pageData,g as default};
